{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { Modal, Upload } from 'antd';\n\nconst getBase64 = file => new Promise((resolve, reject) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(file);\n\n  reader.onload = () => resolve(reader.result);\n\n  reader.onerror = error => reject(error);\n});\n\nconst CardImageUploader = props => {\n  const {\n    0: previewOpen,\n    1: setPreviewOpen\n  } = useState(false);\n  const {\n    0: previewImage,\n    1: setPreviewImage\n  } = useState('');\n  const {\n    0: previewTitle,\n    1: setPreviewTitle\n  } = useState('');\n  const {\n    0: fileList,\n    1: setFileList\n  } = useState([]);\n\n  const handleCancel = () => setPreviewOpen(false);\n\n  const handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    setPreviewImage(file.url || file.preview);\n    setPreviewOpen(true);\n    setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\n  };\n\n  const handleChange = ({\n    fileList: newFileList\n  }) => {\n    setFileList(newFileList);\n\n    if (newFileList.length > 0) {\n      props.onChange(newFileList);\n    }\n  };\n\n  const uploadButton = /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(PlusOutlined, {}), /*#__PURE__*/_jsx(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: \"Upload\"\n    })]\n  });\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Upload, {\n      listType: \"picture-card\",\n      fileList: fileList,\n      multiple: false,\n      onPreview: handlePreview,\n      onChange: handleChange,\n      children: fileList.length >= props.number ? null : uploadButton\n    }), /*#__PURE__*/_jsx(Modal, {\n      open: previewOpen,\n      title: previewTitle,\n      footer: null,\n      onCancel: handleCancel,\n      children: /*#__PURE__*/_jsx(\"img\", {\n        alt: \"example\",\n        style: {\n          width: '100%'\n        },\n        src: previewImage\n      })\n    })]\n  });\n};\n\nexport default CardImageUploader;","map":null,"metadata":{},"sourceType":"module"}