{"ast":null,"code":"import _defineProperty from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport ContainerDefault from '~/components/layouts/ContainerDefault';\nimport TableProductBrandsItems from '~/components/shared/tables/TableProductBrandsItems';\nimport FormCreateProductBrands from '~/components/shared/forms/FormCreateProductBrands';\nimport FormSearchSimple from '~/components/shared/forms/FormSearchSimple';\nimport HeaderDashboard from '~/components/shared/headers/HeaderDashboard';\nimport { connect, useDispatch } from 'react-redux';\nimport { toggleDrawerMenu } from '~/store/app/action';\nimport ProductBrandRepository from '~/repositories/ProductBrandRepository';\n\nvar ProductBrandsPage = function ProductBrandsPage() {\n  var dispatch = useDispatch();\n\n  var _useState = useState([]),\n      productBrands = _useState[0],\n      setProductBrands = _useState[1];\n\n  var _useState2 = useState({}),\n      selectedBrand = _useState2[0],\n      setSelectedBrand = _useState2[1];\n\n  var initializeProductBrands = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var parentCats;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return ProductBrandRepository.findAll();\n\n            case 2:\n              parentCats = _context.sent;\n              setProductBrands(_toConsumableArray(parentCats.result));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function initializeProductBrands() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleEdit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(param) {\n      var foundBrand;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return ProductBrandRepository.findById(param);\n\n            case 2:\n              foundBrand = _context2.sent;\n              console.log(foundBrand);\n              setSelectedBrand(_objectSpread({}, foundBrand.result));\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleEdit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(param) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return ProductBrandRepository.deleteProductBrand(param);\n\n            case 2:\n              initializeProductBrands();\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleDelete(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    dispatch(toggleDrawerMenu(false));\n    initializeProductBrands();\n  }, []);\n  return /*#__PURE__*/_jsxs(ContainerDefault, {\n    children: [/*#__PURE__*/_jsx(HeaderDashboard, {\n      title: \"Brands\",\n      description: \"Product/Brand\"\n    }), /*#__PURE__*/_jsxs(\"section\", {\n      className: \"ps-dashboard ps-items-listing\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"ps-section__left\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"ps-section__header\",\n          children: /*#__PURE__*/_jsx(FormSearchSimple, {})\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"ps-section__content\",\n          children: /*#__PURE__*/_jsx(TableProductBrandsItems, {\n            handleEdit: handleEdit,\n            handleDelete: handleDelete,\n            productBrands: productBrands,\n            initializeProductBrands: initializeProductBrands\n          })\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"ps-section__right\",\n        children: /*#__PURE__*/_jsx(FormCreateProductBrands, {\n          selectedBrand: selectedBrand,\n          initializeProductBrands: initializeProductBrands\n        })\n      })]\n    })]\n  });\n};\n\nexport default connect(function (state) {\n  return state.app;\n})(ProductBrandsPage);","map":null,"metadata":{},"sourceType":"module"}