{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/pages/product-brand/index.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from 'react';\nimport ContainerDefault from '~/components/layouts/ContainerDefault';\nimport TableProductBrandsItems from '~/components/shared/tables/TableProductBrandsItems';\nimport FormCreateProductBrands from '~/components/shared/forms/FormCreateProductBrands';\nimport FormSearchSimple from '~/components/shared/forms/FormSearchSimple';\nimport HeaderDashboard from '~/components/shared/headers/HeaderDashboard';\nimport { connect, useDispatch } from 'react-redux';\nimport { toggleDrawerMenu } from '~/store/app/action';\nimport ProductBrandRepository from '~/repositories/ProductBrandRepository';\nimport withAuth from '~/helpers/withAuth';\nimport Roles from '~/helpers/role';\nimport { openNotification } from '~/utilities/notification-helpers';\n\nconst ProductBrandsPage = props => {\n  const dispatch = useDispatch();\n  const {\n    0: productBrands,\n    1: setProductBrands\n  } = useState([]);\n  const {\n    0: selectedBrand,\n    1: setSelectedBrand\n  } = useState({});\n\n  const initializeProductBrands = async () => {\n    const parentCats = await ProductBrandRepository.findAll();\n    setProductBrands([...parentCats.result]);\n  };\n\n  const handleEdit = async param => {\n    const foundBrand = await ProductBrandRepository.findById(param);\n    console.log(foundBrand);\n    setSelectedBrand(_objectSpread({}, foundBrand.result));\n  };\n\n  const handleDelete = async param => {\n    const resp = await ProductBrandRepository.deleteProductBrand(param, props.auth.user.accessToken);\n\n    if (!resp.error) {\n      initializeProductBrands();\n    } else {\n      openNotification(\"Error Message\", resp.error, 'error');\n    }\n  };\n\n  useEffect(() => {\n    dispatch(toggleDrawerMenu(false));\n    initializeProductBrands();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ContainerDefault, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderDashboard, {\n      title: \"Brands\",\n      description: \"Product/Brand\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"ps-dashboard ps-items-listing\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ps-section__left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ps-section__header\",\n          children: /*#__PURE__*/_jsxDEV(FormSearchSimple, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ps-section__content\",\n          children: /*#__PURE__*/_jsxDEV(TableProductBrandsItems, {\n            handleEdit: handleEdit,\n            handleDelete: handleDelete,\n            productBrands: productBrands,\n            initializeProductBrands: initializeProductBrands\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ps-section__right\",\n        children: /*#__PURE__*/_jsxDEV(FormCreateProductBrands, _objectSpread(_objectSpread({\n          selectedBrand: selectedBrand\n        }, props), {}, {\n          initializeProductBrands: initializeProductBrands\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\nexport default connect(state => state)(withAuth(ProductBrandsPage)([Roles.admin, Roles.vendor]));","map":{"version":3,"sources":["/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/pages/product-brand/index.jsx"],"names":["React","useEffect","useState","ContainerDefault","TableProductBrandsItems","FormCreateProductBrands","FormSearchSimple","HeaderDashboard","connect","useDispatch","toggleDrawerMenu","ProductBrandRepository","withAuth","Roles","openNotification","ProductBrandsPage","props","dispatch","productBrands","setProductBrands","selectedBrand","setSelectedBrand","initializeProductBrands","parentCats","findAll","result","handleEdit","param","foundBrand","findById","console","log","handleDelete","resp","deleteProductBrand","auth","user","accessToken","error","state","admin","vendor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ContainerDefault from '~/components/layouts/ContainerDefault';\nimport TableProductBrandsItems from '~/components/shared/tables/TableProductBrandsItems';\nimport FormCreateProductBrands from '~/components/shared/forms/FormCreateProductBrands';\nimport FormSearchSimple from '~/components/shared/forms/FormSearchSimple';\nimport HeaderDashboard from '~/components/shared/headers/HeaderDashboard';\nimport { connect, useDispatch } from 'react-redux';\nimport { toggleDrawerMenu } from '~/store/app/action';\nimport ProductBrandRepository from '~/repositories/ProductBrandRepository';\nimport withAuth from '~/helpers/withAuth';\nimport Roles from '~/helpers/role';\nimport { openNotification } from '~/utilities/notification-helpers';\n\nconst ProductBrandsPage = (props) => {\n    const dispatch = useDispatch();\n    const [productBrands, setProductBrands] = useState([]);\n    const [selectedBrand,setSelectedBrand] = useState({});\n    const initializeProductBrands = async () => {\n        const parentCats = await ProductBrandRepository.findAll();\n        setProductBrands([...parentCats.result]);\n    }\n    const handleEdit = async (param)=>{\n        const foundBrand = await ProductBrandRepository.findById(param);\n        console.log(foundBrand);\n        setSelectedBrand({...foundBrand.result});\n    }\n\n    const handleDelete = async (param)=>{\n       const resp =  await ProductBrandRepository.deleteProductBrand(param,props.auth.user.accessToken);\n        if(!resp.error){\n            initializeProductBrands();\n        }else{\n            openNotification(\"Error Message\",resp.error,'error');\n        }\n    }\n\n    useEffect(() => {\n        dispatch(toggleDrawerMenu(false));\n        initializeProductBrands();\n    }, []);\n    return (\n        <ContainerDefault>\n            <HeaderDashboard\n                title=\"Brands\"\n                description=\"Product/Brand\"\n            />\n            <section className=\"ps-dashboard ps-items-listing\">\n                <div className=\"ps-section__left\">\n                    <div className=\"ps-section__header\">\n                        <FormSearchSimple />\n                    </div>\n                    <div className=\"ps-section__content\">\n                        <TableProductBrandsItems handleEdit={handleEdit} handleDelete={handleDelete} productBrands={productBrands} initializeProductBrands={initializeProductBrands} />\n                    </div>\n                </div>\n                <div className=\"ps-section__right\">\n                    <FormCreateProductBrands selectedBrand={selectedBrand} {...props} initializeProductBrands={initializeProductBrands} />\n                </div>\n            </section>\n        </ContainerDefault>\n    );\n};\n\nexport default connect((state) => state)(withAuth(ProductBrandsPage)([Roles.admin,Roles.vendor]));\n"]},"metadata":{},"sourceType":"module"}