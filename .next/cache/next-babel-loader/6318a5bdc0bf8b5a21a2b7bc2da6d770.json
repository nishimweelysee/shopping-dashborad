{"ast":null,"code":"import _defineProperty from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/components/shared/forms/FormAccountSettings.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect } from 'react';\nimport UserRepository from '~/repositories/UserRepository';\nimport VendorRepository from '~/repositories/VendorRepository';\nimport { openNotification } from '~/utilities/notification-helpers';\nimport CardImageUploader from '../cards/CardImageUploader';\n\nvar FormAccountSettings = function FormAccountSettings(_ref) {\n  _s();\n\n  var user = _ref.user;\n\n  var _React$useState = React.useState({\n    id: null,\n    phoneNumber: '',\n    names: '',\n    address: '',\n    logo: '',\n    vendorId: user.id,\n    slug: '',\n    user: {\n      name: '',\n      username: '',\n      email: '',\n      category: ''\n    }\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      selectedUser = _React$useState2[0],\n      setSelectedUser = _React$useState2[1];\n\n  var handleSubmitUpdateSelectedUser = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var formData, response, responseCustomer;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //convert selectedUser data into formData with logo file\n              formData = new FormData();\n              formData.append('id', selectedUser.id);\n              formData.append('phoneNumber', selectedUser.phoneNumber);\n              formData.append('names', selectedUser.names);\n              formData.append('address', selectedUser.address);\n              formData.append('logo', selectedUser.logo);\n              formData.append('slug', selectedUser.slug); //update user\n\n              _context.t0 = selectedUser.user.category;\n              _context.next = _context.t0 === 'VENDOR' ? 10 : _context.t0 === 'CUSTOMER' ? 16 : 21;\n              break;\n\n            case 10:\n              formData.append('vendorId', selectedUser.vendorId);\n              _context.next = 13;\n              return VendorRepository.updateVendor(formData, user.accessToken);\n\n            case 13:\n              response = _context.sent;\n\n              if (!response.error) {\n                if (response) {\n                  setSelectedUser(response.result);\n                  openNotification('Success Message', 'Vendor updated successfully', 'success');\n                }\n              } else {\n                openNotification('Error Message', response.error, 'error');\n              }\n\n              return _context.abrupt(\"break\", 22);\n\n            case 16:\n              _context.next = 18;\n              return UserRepository.updateCustomer(formData, user.accessToken);\n\n            case 18:\n              responseCustomer = _context.sent;\n\n              if (!responseCustomer.error) {\n                if (responseCustomer) {\n                  setSelectedUser(responseCustomer.result);\n                  openNotification('Success Message', 'Customer updated successfully', 'success');\n                }\n              } else {\n                openNotification('Error Message', responseCustomer.error, 'error');\n              }\n\n              return _context.abrupt(\"break\", 22);\n\n            case 21:\n              return _context.abrupt(\"break\", 22);\n\n            case 22:\n              fetchUser();\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmitUpdateSelectedUser() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var fetchUser = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return UserRepository.getProfile(user.data.user.id, user.accessToken);\n\n            case 2:\n              response = _context2.sent;\n\n              if (!response.error) {\n                if (response) setSelectedUser(response.result);\n              } else {\n                openNotification('Error Message', response.error, 'error');\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function fetchUser() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleSetLogo = function handleSetLogo(logo) {\n    setSelectedUser(_objectSpread(_objectSpread({}, selectedUser), {}, {\n      logo: logo[0].originFileObj\n    }));\n  };\n\n  useEffect(function () {\n    fetchUser();\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"ps-form--account-settings\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"text\",\n            placeholder: \"\",\n            onInput: function onInput(e) {\n              return setSelectedUser(_objectSpread(_objectSpread({}, selectedUser), {}, {\n                names: e.target.value\n              }));\n            },\n            value: selectedUser.names\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Display Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"text\",\n            placeholder: \"\",\n            disabled: true,\n            onInput: function onInput(e) {\n              return setSelectedUser(_objectSpread(_objectSpread({}, selectedUser), {}, {\n                user: _objectSpread(_objectSpread({}, selectedUser.user), {}, {\n                  name: e.target.value\n                })\n              }));\n            },\n            value: selectedUser.user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"text\",\n            placeholder: \"\",\n            onInput: function onInput(e) {\n              return setSelectedUser(_objectSpread(_objectSpread({}, selectedUser), {}, {\n                user: _objectSpread(_objectSpread({}, selectedUser.user), {}, {\n                  email: e.target.value\n                })\n              }));\n            },\n            value: selectedUser.user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"text\",\n            placeholder: \"\",\n            onInput: function onInput(e) {\n              return setSelectedUser(_objectSpread(_objectSpread({}, selectedUser), {}, {\n                phoneNumber: e.target.value\n              }));\n            },\n            value: selectedUser.phoneNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"text\",\n            placeholder: \"\",\n            disabled: true,\n            value: selectedUser.user.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"text\",\n            placeholder: \"\",\n            onInput: function onInput(e) {\n              return setSelectedUser(_objectSpread(_objectSpread({}, selectedUser), {}, {\n                address: e.target.value\n              }));\n            },\n            value: selectedUser.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-sm-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Bio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-control\",\n            rows: \"6\",\n            placeholder: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(CardImageUploader, {\n        onChange: handleSetLogo,\n        number: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ps-form__submit text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ps-btn ps-btn--gray mr-3\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleSubmitUpdateSelectedUser,\n        className: \"ps-btn success\",\n        children: \"Update Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(FormAccountSettings, \"x7vg1gMs2fvA3pkTEsEXR7psPHI=\");\n\n_c = FormAccountSettings;\nexport default FormAccountSettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormAccountSettings\");","map":{"version":3,"sources":["/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/components/shared/forms/FormAccountSettings.jsx"],"names":["React","useEffect","UserRepository","VendorRepository","openNotification","CardImageUploader","FormAccountSettings","user","useState","id","phoneNumber","names","address","logo","vendorId","slug","name","username","email","category","selectedUser","setSelectedUser","handleSubmitUpdateSelectedUser","formData","FormData","append","updateVendor","accessToken","response","error","result","updateCustomer","responseCustomer","fetchUser","getProfile","data","handleSetLogo","originFileObj","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport UserRepository from '~/repositories/UserRepository';\nimport VendorRepository from  '~/repositories/VendorRepository';\nimport { openNotification } from '~/utilities/notification-helpers';\nimport CardImageUploader from '../cards/CardImageUploader';\n\nconst FormAccountSettings = ({ user }) => {\n    const [selectedUser, setSelectedUser] = React.useState({id:null,phoneNumber: '',names:'',address:'',logo:'',vendorId:user.id,slug:'',user: {name: '',username: '',email: '',category: ''}});\n    const handleSubmitUpdateSelectedUser = async () => {\n        //convert selectedUser data into formData with logo file\n        const formData = new FormData();\n        formData.append('id', selectedUser.id);\n        formData.append('phoneNumber', selectedUser.phoneNumber);\n        formData.append('names', selectedUser.names);\n        formData.append('address', selectedUser.address);\n        formData.append('logo', selectedUser.logo);\n        formData.append('slug', selectedUser.slug);\n        //update user\n\n\n\n        switch (selectedUser.user.category) {\n            case 'VENDOR':\n                formData.append('vendorId', selectedUser.vendorId);\n                const response = await VendorRepository.updateVendor(formData, user.accessToken);\n                if(!response.error){\n                    if(response){\n                        setSelectedUser(response.result);\n                        openNotification('Success Message', 'Vendor updated successfully','success');\n                    }\n                }else{\n                    openNotification('Error Message', response.error,'error');\n                } \n                break;\n            case 'CUSTOMER':\n                const responseCustomer = await UserRepository.updateCustomer(formData, user.accessToken);\n                if(!responseCustomer.error){\n                    if(responseCustomer){\n                        setSelectedUser(responseCustomer.result);\n                        openNotification('Success Message', 'Customer updated successfully','success');\n                    }\n                }else{\n                    openNotification('Error Message', responseCustomer.error,'error');\n                }\n                break;\n            default:\n                break;\n        }\n        fetchUser();\n    };\n    const fetchUser = async () => {\n        const response = await UserRepository.getProfile(user.data.user.id, user.accessToken);\n        if(!response.error){\n            if(response)\n                setSelectedUser(response.result);\n        }else{\n            openNotification('Error Message', response.error,'error');\n        }\n    };\n    const handleSetLogo = (logo) => {\n        setSelectedUser({...selectedUser,logo:logo[0].originFileObj});\n    };\n    useEffect(() => {\n        fetchUser();\n    }, [user]);\n    return (\n        <form className=\"ps-form--account-settings\">\n            <div className=\"row\">\n                <div className=\"col-sm-6\">\n                    <div className=\"form-group\">\n                        <label>Full Name</label>\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            placeholder=\"\"\n                            onInput={e=>setSelectedUser({...selectedUser,names:e.target.value})}\n                            value={selectedUser.names}\n                        />\n                    </div>\n                </div>\n                <div className=\"col-sm-6\">\n                    <div className=\"form-group\">\n                        <label>Display Name</label>\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            placeholder=\"\"\n                            disabled\n                            onInput={e=>setSelectedUser({...selectedUser,user:{...selectedUser.user,name:e.target.value}})}\n                            value={selectedUser.user.username}\n                        />\n                    </div>\n                </div>\n                <div className=\"col-sm-6\">\n                    <div className=\"form-group\">\n                        <label>Email</label>\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            placeholder=\"\"\n                            onInput={e=>setSelectedUser({...selectedUser,user:{...selectedUser.user,email:e.target.value}})}\n                            value={selectedUser.user.email}\n                        />\n                    </div>\n                </div>\n                <div className=\"col-sm-6\">\n                    <div className=\"form-group\">\n                        <label>Phone Number</label>\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            placeholder=\"\"\n                            onInput={e=>setSelectedUser({...selectedUser,phoneNumber:e.target.value})}\n                            value={selectedUser.phoneNumber}\n                        />\n                    </div>\n                </div>\n                <div className=\"col-sm-6\">\n                    <div className=\"form-group\">\n                        <label>Role</label>\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            placeholder=\"\"\n                            disabled\n                            value={selectedUser.user.category}\n                        />\n                    </div>\n                </div>\n                <div className=\"col-sm-6\">\n                    <div className=\"form-group\">\n                        <label>Address</label>\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            placeholder=\"\"\n                            onInput={e=>setSelectedUser({...selectedUser,address:e.target.value})}\n                            value={selectedUser.address}\n                        />\n                    </div>\n                </div>\n               \n                <div className=\"col-sm-12\">\n                    <div className=\"form-group\">\n                        <label>Bio</label>\n                        <textarea\n                            className=\"form-control\"\n                            rows=\"6\"\n                            placeholder=\"\"></textarea>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <CardImageUploader onChange={handleSetLogo} number={1} />\n            </div>\n            <div className=\"ps-form__submit text-center\">\n                <button className=\"ps-btn ps-btn--gray mr-3\">Cancel</button>\n                <button type='button' onClick={handleSubmitUpdateSelectedUser} className=\"ps-btn success\">Update Profile</button>\n            </div>\n        </form>\n    );\n};\n\nexport default FormAccountSettings;\n"]},"metadata":{},"sourceType":"module"}