{"ast":null,"code":"import _defineProperty from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/pages/product-brand/index.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport ContainerDefault from '~/components/layouts/ContainerDefault';\nimport TableProductBrandsItems from '~/components/shared/tables/TableProductBrandsItems';\nimport FormCreateProductBrands from '~/components/shared/forms/FormCreateProductBrands';\nimport FormSearchSimple from '~/components/shared/forms/FormSearchSimple';\nimport HeaderDashboard from '~/components/shared/headers/HeaderDashboard';\nimport { connect, useDispatch } from 'react-redux';\nimport { toggleDrawerMenu } from '~/store/app/action';\nimport ProductBrandRepository from '~/repositories/ProductBrandRepository';\nimport withAuth from '~/helpers/withAuth';\nimport Roles from '~/helpers/role';\n\nvar ProductBrandsPage = function ProductBrandsPage(props) {\n  _s();\n\n  var dispatch = useDispatch();\n\n  var _useState = useState([]),\n      productBrands = _useState[0],\n      setProductBrands = _useState[1];\n\n  var _useState2 = useState({}),\n      selectedBrand = _useState2[0],\n      setSelectedBrand = _useState2[1];\n\n  var initializeProductBrands = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var parentCats;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return ProductBrandRepository.findAll();\n\n            case 2:\n              parentCats = _context.sent;\n              setProductBrands(_toConsumableArray(parentCats.result));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function initializeProductBrands() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleEdit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(param) {\n      var foundBrand;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return ProductBrandRepository.findById(param);\n\n            case 2:\n              foundBrand = _context2.sent;\n              console.log(foundBrand);\n              setSelectedBrand(_objectSpread({}, foundBrand.result));\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleEdit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(param) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return ProductBrandRepository.deleteProductBrand(param);\n\n            case 2:\n              initializeProductBrands();\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleDelete(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    dispatch(toggleDrawerMenu(false));\n    initializeProductBrands();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ContainerDefault, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderDashboard, {\n      title: \"Brands\",\n      description: \"Product/Brand\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"ps-dashboard ps-items-listing\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ps-section__left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ps-section__header\",\n          children: /*#__PURE__*/_jsxDEV(FormSearchSimple, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ps-section__content\",\n          children: /*#__PURE__*/_jsxDEV(TableProductBrandsItems, {\n            handleEdit: handleEdit,\n            handleDelete: handleDelete,\n            productBrands: productBrands,\n            initializeProductBrands: initializeProductBrands\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ps-section__right\",\n        children: /*#__PURE__*/_jsxDEV(FormCreateProductBrands, _objectSpread(_objectSpread({\n          selectedBrand: selectedBrand\n        }, props), {}, {\n          initializeProductBrands: initializeProductBrands\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(ProductBrandsPage, \"TPSbMpacmFGQMnJBft7RD7B1+xo=\", false, function () {\n  return [useDispatch];\n});\n\n_c = ProductBrandsPage;\nexport default connect(function (state) {\n  return state;\n})(withAuth(ProductBrandsPage)([Roles.admin, Roles.vendor]));\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductBrandsPage\");","map":{"version":3,"sources":["/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/pages/product-brand/index.jsx"],"names":["React","useEffect","useState","ContainerDefault","TableProductBrandsItems","FormCreateProductBrands","FormSearchSimple","HeaderDashboard","connect","useDispatch","toggleDrawerMenu","ProductBrandRepository","withAuth","Roles","ProductBrandsPage","props","dispatch","productBrands","setProductBrands","selectedBrand","setSelectedBrand","initializeProductBrands","findAll","parentCats","result","handleEdit","param","findById","foundBrand","console","log","handleDelete","deleteProductBrand","state","admin","vendor"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,gBAAP,MAA6B,uCAA7B;AACA,OAAOC,uBAAP,MAAoC,oDAApC;AACA,OAAOC,uBAAP,MAAoC,mDAApC;AACA,OAAOC,gBAAP,MAA6B,4CAA7B;AACA,OAAOC,eAAP,MAA4B,6CAA5B;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,aAArC;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,OAAOC,sBAAP,MAAmC,uCAAnC;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAEA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAAW;AAAA;;AACjC,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;;AADiC,kBAESP,QAAQ,CAAC,EAAD,CAFjB;AAAA,MAE1Be,aAF0B;AAAA,MAEXC,gBAFW;;AAAA,mBAGQhB,QAAQ,CAAC,EAAD,CAHhB;AAAA,MAG1BiB,aAH0B;AAAA,MAGZC,gBAHY;;AAIjC,MAAMC,uBAAuB;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACHV,sBAAsB,CAACW,OAAvB,EADG;;AAAA;AACtBC,cAAAA,UADsB;AAE5BL,cAAAA,gBAAgB,oBAAKK,UAAU,CAACC,MAAhB,EAAhB;;AAF4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAvBH,uBAAuB;AAAA;AAAA;AAAA,KAA7B;;AAIA,MAAMI,UAAU;AAAA,yEAAG,kBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACUf,sBAAsB,CAACgB,QAAvB,CAAgCD,KAAhC,CADV;;AAAA;AACTE,cAAAA,UADS;AAEfC,cAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACAR,cAAAA,gBAAgB,mBAAKQ,UAAU,CAACJ,MAAhB,EAAhB;;AAHe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVC,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAMA,MAAMM,YAAY;AAAA,yEAAG,kBAAOL,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACXf,sBAAsB,CAACqB,kBAAvB,CAA0CN,KAA1C,CADW;;AAAA;AAEjBL,cAAAA,uBAAuB;;AAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZU,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAKA9B,EAAAA,SAAS,CAAC,YAAM;AACZe,IAAAA,QAAQ,CAACN,gBAAgB,CAAC,KAAD,CAAjB,CAAR;AACAW,IAAAA,uBAAuB;AAC1B,GAHQ,EAGN,EAHM,CAAT;AAIA,sBACI,QAAC,gBAAD;AAAA,4BACI,QAAC,eAAD;AACI,MAAA,KAAK,EAAC,QADV;AAEI,MAAA,WAAW,EAAC;AAFhB;AAAA;AAAA;AAAA;AAAA,aADJ,eAKI;AAAS,MAAA,SAAS,EAAC,+BAAnB;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAA,iCACI,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,iBADJ,eAII;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,iCACI,QAAC,uBAAD;AAAyB,YAAA,UAAU,EAAEI,UAArC;AAAiD,YAAA,YAAY,EAAEM,YAA/D;AAA6E,YAAA,aAAa,EAAEd,aAA5F;AAA2G,YAAA,uBAAuB,EAAEI;AAApI;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,iBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eASI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,+BACI,QAAC,uBAAD;AAAyB,UAAA,aAAa,EAAEF;AAAxC,WAA2DJ,KAA3D;AAAkE,UAAA,uBAAuB,EAAEM;AAA3F;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,eATJ;AAAA;AAAA;AAAA;AAAA;AAAA,aALJ;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ;AAqBH,CA5CD;;GAAMP,iB;UACeL,W;;;KADfK,iB;AA8CN,eAAeN,OAAO,CAAC,UAACyB,KAAD;AAAA,SAAWA,KAAX;AAAA,CAAD,CAAP,CAA0BrB,QAAQ,CAACE,iBAAD,CAAR,CAA4B,CAACD,KAAK,CAACqB,KAAP,EAAarB,KAAK,CAACsB,MAAnB,CAA5B,CAA1B,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ContainerDefault from '~/components/layouts/ContainerDefault';\nimport TableProductBrandsItems from '~/components/shared/tables/TableProductBrandsItems';\nimport FormCreateProductBrands from '~/components/shared/forms/FormCreateProductBrands';\nimport FormSearchSimple from '~/components/shared/forms/FormSearchSimple';\nimport HeaderDashboard from '~/components/shared/headers/HeaderDashboard';\nimport { connect, useDispatch } from 'react-redux';\nimport { toggleDrawerMenu } from '~/store/app/action';\nimport ProductBrandRepository from '~/repositories/ProductBrandRepository';\nimport withAuth from '~/helpers/withAuth';\nimport Roles from '~/helpers/role';\n\nconst ProductBrandsPage = (props) => {\n    const dispatch = useDispatch();\n    const [productBrands, setProductBrands] = useState([]);\n    const [selectedBrand,setSelectedBrand] = useState({});\n    const initializeProductBrands = async () => {\n        const parentCats = await ProductBrandRepository.findAll();\n        setProductBrands([...parentCats.result]);\n    }\n    const handleEdit = async (param)=>{\n        const foundBrand = await ProductBrandRepository.findById(param);\n        console.log(foundBrand);\n        setSelectedBrand({...foundBrand.result});\n    }\n\n    const handleDelete = async (param)=>{\n        await ProductBrandRepository.deleteProductBrand(param);\n        initializeProductBrands();\n    }\n\n    useEffect(() => {\n        dispatch(toggleDrawerMenu(false));\n        initializeProductBrands();\n    }, []);\n    return (\n        <ContainerDefault>\n            <HeaderDashboard\n                title=\"Brands\"\n                description=\"Product/Brand\"\n            />\n            <section className=\"ps-dashboard ps-items-listing\">\n                <div className=\"ps-section__left\">\n                    <div className=\"ps-section__header\">\n                        <FormSearchSimple />\n                    </div>\n                    <div className=\"ps-section__content\">\n                        <TableProductBrandsItems handleEdit={handleEdit} handleDelete={handleDelete} productBrands={productBrands} initializeProductBrands={initializeProductBrands} />\n                    </div>\n                </div>\n                <div className=\"ps-section__right\">\n                    <FormCreateProductBrands selectedBrand={selectedBrand} {...props} initializeProductBrands={initializeProductBrands} />\n                </div>\n            </section>\n        </ContainerDefault>\n    );\n};\n\nexport default connect((state) => state)(withAuth(ProductBrandsPage)([Roles.admin,Roles.vendor]));\n"]},"metadata":{},"sourceType":"module"}