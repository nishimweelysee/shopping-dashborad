{"ast":null,"code":"import _regeneratorRuntime from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/nishimweelysee/Desktop/eshopping/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from 'react';\nimport ContainerDefault from '~/components/layouts/ContainerDefault';\nimport TableCategoryItems from '~/components/shared/tables/TableCategoryItems';\nimport Pagination from '~/components/elements/basic/Pagination';\nimport FormCreateCategory from '~/components/shared/forms/FormCreateCategory';\nimport FormSearchSimple from '~/components/shared/forms/FormSearchSimple';\nimport HeaderDashboard from '~/components/shared/headers/HeaderDashboard';\nimport { connect, useDispatch } from 'react-redux';\nimport { toggleDrawerMenu } from '~/store/app/action';\nimport CategoryRepository from '~/repositories/CategoryRepository';\n\nvar CategoriesPage = function CategoriesPage() {\n  var dispatch = useDispatch();\n\n  var _useState = useState([]),\n      categories = _useState[0],\n      setCategories = _useState[1];\n\n  var _useState2 = useState({}),\n      selectedCategory = _useState2[0],\n      setSelectedCategory = _useState2[1];\n\n  var initializeCategories = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(categoryId) {\n      var parentCats, _parentCats;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!categoryId) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 3;\n              return CategoryRepository.findCategoryByParentId(categoryId);\n\n            case 3:\n              parentCats = _context.sent;\n              setCategories(_toConsumableArray(parentCats.result));\n              _context.next = 11;\n              break;\n\n            case 7:\n              _context.next = 9;\n              return CategoryRepository.findTopCategory();\n\n            case 9:\n              _parentCats = _context.sent;\n              setCategories(_toConsumableArray(_parentCats.result));\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function initializeCategories(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    dispatch(toggleDrawerMenu(false));\n    initializeCategories();\n  }, []);\n  return /*#__PURE__*/_jsxs(ContainerDefault, {\n    children: [/*#__PURE__*/_jsx(HeaderDashboard, {\n      title: \"Categories\",\n      description: \"Cyamunara Category Listing\"\n    }), /*#__PURE__*/_jsxs(\"section\", {\n      className: \"ps-dashboard ps-items-listing\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"ps-section__left\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"ps-section__header\",\n          children: /*#__PURE__*/_jsx(FormSearchSimple, {})\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"ps-section__content\",\n          children: /*#__PURE__*/_jsx(TableCategoryItems, {\n            initializeCategories: initializeCategories,\n            categories: categories\n          })\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"ps-section__right\",\n        children: /*#__PURE__*/_jsx(FormCreateCategory, {\n          categories: categories,\n          initializeCategories: initializeCategories\n        })\n      })]\n    })]\n  });\n};\n\nexport default connect(function (state) {\n  return state.app;\n})(CategoriesPage);","map":null,"metadata":{},"sourceType":"module"}