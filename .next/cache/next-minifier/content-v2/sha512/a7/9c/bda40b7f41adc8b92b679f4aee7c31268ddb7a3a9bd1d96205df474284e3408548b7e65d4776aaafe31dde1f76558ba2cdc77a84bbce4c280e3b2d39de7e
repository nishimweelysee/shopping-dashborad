{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{Awig:function(e,t,r){\"use strict\";var n=r(\"nKUr\"),a=(r(\"q1tI\"),r(\"8Kt/\")),c=r.n(a),s=r(\"sMam\"),o=r(\"IMan\"),u=r(\"FQA2\"),i=r(\"a0bL\");r(\"vWTs\");t.a=function(e){var t,r=e.children,a=e.title;return t=void 0!==a?\"Cyamunara | \"+a:\"Cyamunara | Admin Template\",Object(n.jsxs)(\"div\",{className:\"Cyamunara-admin\",children:[Object(n.jsx)(c.a,{children:Object(n.jsx)(\"title\",{children:t})}),Object(n.jsxs)(\"main\",{className:\"ps-main\",children:[Object(n.jsx)(\"div\",{className:\"ps-main__sidebar\",children:Object(n.jsxs)(\"div\",{className:\"ps-sidebar\",children:[Object(n.jsxs)(\"div\",{className:\"ps-sidebar__top\",children:[Object(n.jsx)(i.a,{}),Object(n.jsx)(u.a,{})]}),Object(n.jsx)(\"div\",{className:\"ps-sidebar__content\",children:Object(n.jsx)(\"div\",{className:\"ps-sidebar__center\",children:Object(n.jsx)(o.a,{})})}),Object(n.jsx)(\"div\",{className:\"ps-sidebar__footer\",children:Object(n.jsx)(s.a,{})})]})}),Object(n.jsx)(\"div\",{className:\"ps-main__wrapper\",children:r})]})]})}},DV9J:function(e,t,r){\"use strict\";var n=r(\"vJKn\"),a=r.n(n),c=r(\"rg98\"),s=r(\"H+61\"),o=r(\"UlJF\"),u=r(\"pU5j\"),i=function(){function e(t){Object(s.a)(this,e),this.callback=t}return Object(o.a)(e,[{key:\"findAll\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.get(\"\".concat(u.a,\"/vendor/findAll?page=\").concat(t,\"&size=\").concat(r)).then((function(e){return e.data})).catch((function(e){return{error:JSON.stringify(e.message)}}));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:\"findById\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.get(\"\".concat(u.a,\"/vendor/findById{vendorId}?vendorId=\").concat(t)).then((function(e){return console.log(e),e.data})).catch((function(e){return{error:JSON.stringify(e.message)}}));case 3:return e.abrupt(\"return\",e.sent);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"saveVendor\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,u.b.post(\"\".concat(u.a,\"/vendor/signup\"),t).then((function(e){return e.data})).catch((function(e){return{error:JSON.stringify(e.message)}}));case 3:return e.abrupt(\"return\",e.sent);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"updateVendor\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.put(\"\".concat(u.a,\"/vendor/updateVendor\"),t,{headers:{Authorization:r}}).then((function(e){return e.data})).catch((function(e){return{error:JSON.stringify(e.message)}}));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:\"deleteVendor\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.put(\"\".concat(u.a,\"/vendor/deleteVendor{vendorId}?vendorId=\").concat(t),t).then((function(e){return e.data})).catch((function(e){return{error:JSON.stringify(e.message)}}));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=new i},GKK4:function(e,t,r){\"use strict\";var n=r(\"vJKn\"),a=r.n(n),c=r(\"rg98\"),s=r(\"H+61\"),o=r(\"UlJF\"),u=r(\"pU5j\"),i=function(){function e(t){Object(s.a)(this,e),this.callback=t}return Object(o.a)(e,[{key:\"register\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post(\"\".concat(u.a,\"/vendor/signup\"),t).then((function(e){return e.data})).catch((function(e){return{error:JSON.stringify(e.message)}}));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"login\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post(\"\".concat(u.a,\"/auth/login\"),t).then((function(e){return e.data})).catch((function(e){return{error:JSON.stringify(e.message)}}));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"getProfile\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,r),e.next=3,u.b.get(\"\".concat(u.a,\"/user/findUserInfo{userId}?userId=\").concat(t),{headers:{Authorization:r}}).then((function(e){return e.data})).catch((function(e){return{error:JSON.stringify(e.message)}}));case 3:return e.abrupt(\"return\",e.sent);case 4:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.a=new i},HEmI:function(e,t,r){\"use strict\";t.a={customer:\"CLIENT\",vendor:\"VENDOR\",admin:\"ADMIN\"}},Ij2Y:function(e,t,r){\"use strict\";r.r(t);var n=r(\"nKUr\"),a=r(\"q1tI\"),c=r.n(a),s=r(\"Awig\"),o=r(\"cpVT\"),u=r(\"vJKn\"),i=r.n(u),l=r(\"rg98\");var d=r(\"8rE2\");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,c=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(u){a=!0,c=u}finally{try{n||null==o.return||o.return()}finally{if(a)throw c}}return r}}(e,t)||Object(d.a)(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}var b=r(\"GKK4\"),j=r(\"DV9J\"),f=r(\"pzCH\"),O=r(\"xvlK\"),m=r(\"8z0m\"),h=r(\"kLXV\"),v=function(e){return new Promise((function(t,r){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return r(e)}}))},g=function(e){var t=Object(a.useState)(!1),r=t[0],c=t[1],s=Object(a.useState)(\"\"),o=s[0],u=s[1],d=Object(a.useState)(\"\"),p=d[0],b=d[1],j=Object(a.useState)([]),f=j[0],g=j[1],x=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,v(t.originFileObj);case 3:t.preview=e.sent;case 4:u(t.url||t.preview),c(!0),b(t.name||t.url.substring(t.url.lastIndexOf(\"/\")+1));case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(O.a,{}),Object(n.jsx)(\"div\",{style:{marginTop:8},children:\"Upload\"})]});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m.a,{listType:\"picture-card\",fileList:f,multiple:!1,onPreview:x,onChange:function(t){var r=t.fileList;g(r),r.length>0&&e.onChange(r)},children:f.length>=e.number?null:y}),Object(n.jsx)(h.a,{open:r,title:p,footer:null,onCancel:function(){return c(!1)},children:Object(n.jsx)(\"img\",{alt:\"example\",style:{width:\"100%\"},src:o})})]})};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=function(e){var t=e.user,r=p(c.a.useState({id:null,phoneNumber:\"\",names:\"\",address:\"\",logo:\"\",vendorId:t.id,slug:\"\",user:{name:\"\",username:\"\",email:\"\",category:\"\"}}),2),s=r[0],o=r[1],u=function(){var e=Object(l.a)(i.a.mark((function e(){var r,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FormData).append(\"id\",s.id),r.append(\"phoneNumber\",s.phoneNumber),r.append(\"names\",s.names),r.append(\"address\",s.address),r.append(\"logo\",s.logo),r.append(\"slug\",s.slug),e.t0=s.user.category,e.next=\"VENDOR\"===e.t0?10:\"CUSTOMER\"===e.t0?18:23;break;case 10:return r.append(\"vendorId\",s.vendorId),console.log(\"call\"),e.next=14,j.a.updateVendor(r,t.accessToken);case 14:return n=e.sent,console.log(n),n.error?Object(f.a)(\"Error Message\",n.error,\"error\"):n&&(o(n.result),Object(f.a)(\"Success Message\",\"Vendor updated successfully\",\"success\")),e.abrupt(\"break\",24);case 18:return e.next=20,b.a.updateCustomer(r,t.accessToken);case 20:return(a=e.sent).error?Object(f.a)(\"Error Message\",a.error,\"error\"):a&&(o(a.result),Object(f.a)(\"Success Message\",\"Customer updated successfully\",\"success\")),e.abrupt(\"break\",24);case 23:return e.abrupt(\"break\",24);case 24:d();case 25:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.getProfile(t.data.user.id,t.accessToken);case 2:(r=e.sent).error?Object(f.a)(\"Error Message\",r.error,\"error\"):r&&o(r.result);case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){d()}),[t]),Object(n.jsxs)(\"form\",{className:\"ps-form--account-settings\",children:[Object(n.jsxs)(\"div\",{className:\"row\",children:[Object(n.jsx)(\"div\",{className:\"col-sm-6\",children:Object(n.jsxs)(\"div\",{className:\"form-group\",children:[Object(n.jsx)(\"label\",{children:\"Full Name\"}),Object(n.jsx)(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"\",onInput:function(e){return o(y(y({},s),{},{names:e.target.value}))},value:s.names})]})}),Object(n.jsx)(\"div\",{className:\"col-sm-6\",children:Object(n.jsxs)(\"div\",{className:\"form-group\",children:[Object(n.jsx)(\"label\",{children:\"Display Name\"}),Object(n.jsx)(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"\",disabled:!0,onInput:function(e){return o(y(y({},s),{},{user:y(y({},s.user),{},{name:e.target.value})}))},value:s.user.username})]})}),Object(n.jsx)(\"div\",{className:\"col-sm-6\",children:Object(n.jsxs)(\"div\",{className:\"form-group\",children:[Object(n.jsx)(\"label\",{children:\"Email\"}),Object(n.jsx)(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"\",onInput:function(e){return o(y(y({},s),{},{user:y(y({},s.user),{},{email:e.target.value})}))},value:s.user.email})]})}),Object(n.jsx)(\"div\",{className:\"col-sm-6\",children:Object(n.jsxs)(\"div\",{className:\"form-group\",children:[Object(n.jsx)(\"label\",{children:\"Phone Number\"}),Object(n.jsx)(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"\",onInput:function(e){return o(y(y({},s),{},{phoneNumber:e.target.value}))},value:s.phoneNumber})]})}),Object(n.jsx)(\"div\",{className:\"col-sm-6\",children:Object(n.jsxs)(\"div\",{className:\"form-group\",children:[Object(n.jsx)(\"label\",{children:\"Role\"}),Object(n.jsx)(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"\",disabled:!0,value:s.user.category})]})}),Object(n.jsx)(\"div\",{className:\"col-sm-6\",children:Object(n.jsxs)(\"div\",{className:\"form-group\",children:[Object(n.jsx)(\"label\",{children:\"Address\"}),Object(n.jsx)(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"\",onInput:function(e){return o(y(y({},s),{},{address:e.target.value}))},value:s.address})]})}),Object(n.jsx)(\"div\",{className:\"col-sm-12\",children:Object(n.jsxs)(\"div\",{className:\"form-group\",children:[Object(n.jsx)(\"label\",{children:\"Bio\"}),Object(n.jsx)(\"textarea\",{className:\"form-control\",rows:\"6\",placeholder:\"\"})]})})]}),Object(n.jsx)(\"div\",{children:Object(n.jsx)(g,{onChange:function(e){o(y(y({},s),{},{logo:e[0].originFileObj}))},number:1})}),Object(n.jsxs)(\"div\",{className:\"ps-form__submit text-center\",children:[Object(n.jsx)(\"button\",{className:\"ps-btn ps-btn--gray mr-3\",children:\"Cancel\"}),Object(n.jsx)(\"button\",{type:\"button\",onClick:u,className:\"ps-btn success\",children:\"Update Profile\"})]})]})},w=r(\"vWTs\"),k=r(\"/MKj\"),_=r(\"xWis\"),I=r(\"HEmI\"),S=r(\"UhCr\");t.default=Object(k.b)((function(e){return e}))(Object(S.a)((function(e){var t=e.auth,r=(e.app,Object(k.c)());return Object(a.useEffect)((function(){r(Object(_.b)(!1)),console.log(t)}),[]),Object(n.jsxs)(s.a,{title:\"Settings\",children:[Object(n.jsx)(w.a,{title:\"Settings\",description:\"Settings/Profile\"}),Object(n.jsxs)(\"section\",{className:\"ps-dashboard ps-items-listing\",children:[Object(n.jsx)(\"div\",{className:\"ps-section__left\",children:Object(n.jsxs)(\"section\",{className:\"ps-card\",children:[Object(n.jsx)(\"div\",{className:\"ps-card__header\",children:Object(n.jsx)(\"h4\",{children:\"Account Settings\"})}),Object(n.jsx)(\"div\",{className:\"ps-card__content\",children:Object(n.jsx)(N,{user:t.user})})]})}),Object(n.jsx)(\"div\",{className:\"ps-section__right\"})]})]})}))([I.a.admin,I.a.vendor]))},UhCr:function(e,t,r){\"use strict\";var n,a,c,s,o=r(\"cpVT\"),u=r(\"nKUr\"),i=(r(\"dtb4\"),r(\"nOHt\")),l=r(\"q1tI\"),d=r(\"/MKj\"),p=r(\"HEmI\"),b={categories:\"/categories\",customers:\"/customers\",vendors:\"/vendors\",products:\"/products\",orders:\"/orders\",productBrand:\"/product-brand\",settings:\"/settings\",dashboard:\"/\",login:\"/account/login\",signup:\"/account/register\"},j=(s={auth:(n={default:b.login},Object(o.a)(n,b.signup,b.signup),Object(o.a)(n,b.login,b.login),n)},Object(o.a)(s,p.a.vendor,(a={default:b.login},Object(o.a)(a,b.dashboard,b.dashboard),Object(o.a)(a,b.categories,b.categories),Object(o.a)(a,b.productBrand,b.productBrand),Object(o.a)(a,b.products,b.products),Object(o.a)(a,b.settings,b.settings),a)),Object(o.a)(s,p.a.admin,(c={default:b.login},Object(o.a)(c,b.dashboard,b.dashboard),Object(o.a)(c,b.categories,b.categories),Object(o.a)(c,b.productBrand,b.productBrand),Object(o.a)(c,b.products,b.products),Object(o.a)(c,b.customers,b.customers),Object(o.a)(c,b.vendors,b.vendors),Object(o.a)(c,b.orders,b.orders),Object(o.a)(c,b.settings,b.settings),c)),s);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.a=function(e){return function(t){return function(r){var n=Object(d.d)().getState().auth,a=n.isLoggedIn,c=n.user,s=c.data&&c.data.user.category,p=Object(i.useRouter)(),b=Object(l.useState)(!1),O=b[0],m=b[1];return Object(l.useEffect)((function(){!a||-1!=t.indexOf(s)&&j[s][p.pathname]?a||j.auth[p.pathname]?m(!0):(m(!1),p.push(j.auth.default)):(m(!1),p.push(j[s].default))}),[]),O?Object(u.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r)):null}}}},wFL7:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/settings\",function(){return r(\"Ij2Y\")}])}},[[\"wFL7\",0,2,1,3,4,5,6,7,8,9]]]);","extractedComments":[]}